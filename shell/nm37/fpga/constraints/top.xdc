#========================================================
# Top-level constraint file for Xiangshan on VCU128
# Based on Vivado 2020.2
# Author: Yisong Chang (changyisong@ict.ac.cn)
# Date: 11/01/2023
#========================================================

# PCIe EP GT reference clock
create_clock -period 10.000 -name pcie_ep_ref_clk -waveform {0.000 5.000} [get_ports pcie_ep_gt_ref_clk_clk_p]

set_property PACKAGE_PIN AR15 [get_ports {pcie_ep_gt_ref_clk_clk_p[0]}]

# PL DDR reference clock
create_clock -period 10.000 -name ddr4_mig_sys_clk -waveform {0.000 5.000} [get_ports ddr4_mig_sys_clk_clk_p]

set_property IOSTANDARD DIFF_SSTL12 [get_ports ddr4_mig_sys_clk_clk_n]
set_property IOSTANDARD DIFF_SSTL12 [get_ports ddr4_mig_sys_clk_clk_p]

set_property PACKAGE_PIN BJ42 [get_ports ddr4_mig_sys_clk_clk_n]
set_property PACKAGE_PIN BH42 [get_ports ddr4_mig_sys_clk_clk_p]

# PCIe EP perstn physical location
set_property PACKAGE_PIN BF5 [get_ports pcie_ep_perstn]
set_property IOSTANDARD LVCMOS18 [get_ports pcie_ep_perstn]

# DDR
set_property PACKAGE_PIN BP44 {ddr4_act_n} [get_ports c0_ddr4_act_n]
set_property PACKAGE_PIN BK45 {ddr4_adr0} [get_ports c0_ddr4_adr[0]]
set_property PACKAGE_PIN BL45 {ddr4_adr1} [get_ports c0_ddr4_adr[1]]
set_property PACKAGE_PIN BL43 {ddr4_adr2} [get_ports c0_ddr4_adr[2]]
set_property PACKAGE_PIN BN44 {ddr4_adr3} [get_ports c0_ddr4_adr[3]]
set_property PACKAGE_PIN BP46 {ddr4_adr4} [get_ports c0_ddr4_adr[4]]
set_property PACKAGE_PIN BL46 {ddr4_adr5} [get_ports c0_ddr4_adr[5]]
set_property PACKAGE_PIN BH46 {ddr4_adr6} [get_ports c0_ddr4_adr[6]]
set_property PACKAGE_PIN BJ43 {ddr4_adr7} [get_ports c0_ddr4_adr[7]]
set_property PACKAGE_PIN BN46 {ddr4_adr8} [get_ports c0_ddr4_adr[8]]
set_property PACKAGE_PIN BN45 {ddr4_adr9} [get_ports c0_ddr4_adr[9]]
set_property PACKAGE_PIN BM42 {ddr4_adr10} [get_ports c0_ddr4_adr[10]]
set_property PACKAGE_PIN BM45 {ddr4_adr11} [get_ports c0_ddr4_adr[11]]
set_property PACKAGE_PIN BH44 {ddr4_adr12} [get_ports c0_ddr4_adr[12]]
set_property PACKAGE_PIN BL42 {ddr4_adr13} [get_ports c0_ddr4_adr[13]]
set_property PACKAGE_PIN BH41 {ddr4_adr14} [get_ports c0_ddr4_adr[14]]
set_property PACKAGE_PIN BK43 {ddr4_adr15} [get_ports c0_ddr4_adr[15]]
set_property PACKAGE_PIN BJ41 {ddr4_adr16} [get_ports c0_ddr4_adr[16]]
set_property PACKAGE_PIN BK41 {ddr4_ba0} [get_ports c0_ddr4_ba[0]]
set_property PACKAGE_PIN BG43 {ddr4_ba1} [get_ports c0_ddr4_ba[1]]
set_property PACKAGE_PIN BK46 {ddr4_bg0} [get_ports c0_ddr4_bg[0]]
set_property PACKAGE_PIN BJ44 {ddr4_bg1} [get_ports c0_ddr4_bg[1]]
set_property PACKAGE_PIN BP42 {ddr4_ck_c0} [get_ports c0_ddr4_ck_c[0]]
set_property PACKAGE_PIN BP47 {ddr4_ck_c1} [get_ports c0_ddr4_ck_c[1]]
set_property PACKAGE_PIN BN42 {ddr4_ck_t0} [get_ports c0_ddr4_ck_t[0]]
set_property PACKAGE_PIN BN47 {ddr4_ck_t1} [get_ports c0_ddr4_ck_t[0]]
set_property PACKAGE_PIN BM47 {ddr4_cke0} [get_ports c0_ddr4_cke[0]]
set_property PACKAGE_PIN BJ46 {ddr4_cke1} [get_ports c0_ddr4_cke[1]]
set_property PACKAGE_PIN BG42 {ddr4_cs_n0} [get_ports c0_ddr4_cs_n[0]]
set_property PACKAGE_PIN BE41 {ddr4_cs_n1} [get_ports c0_ddr4_cs_n[1]]
set_property PACKAGE_PIN BG48 {ddr4_dm_dbi_n0} [get_ports c0_ddr4_dm_n[0]]
set_property PACKAGE_PIN BJ52 {ddr4_dm_dbi_n1} [get_ports c0_ddr4_dm_n[1]]
set_property PACKAGE_PIN BK48 {ddr4_dm_dbi_n2} [get_ports c0_ddr4_dm_n[2]]
set_property PACKAGE_PIN BP48 {ddr4_dm_dbi_n3} [get_ports c0_ddr4_dm_n[3]]
set_property PACKAGE_PIN BH32 {ddr4_dm_dbi_n4} [get_ports c0_ddr4_dm_n[4]]
set_property PACKAGE_PIN BM34 {ddr4_dm_dbi_n5} [get_ports c0_ddr4_dm_n[5]]
set_property PACKAGE_PIN BM28 {ddr4_dm_dbi_n6} [get_ports c0_ddr4_dm_n[6]]
set_property PACKAGE_PIN BG29 {ddr4_dm_dbi_n7} [get_ports c0_ddr4_dm_n[7]]
set_property PACKAGE_PIN BE49 {ddr4_dq0} [get_ports c0_ddr4_dq[0]]
set_property PACKAGE_PIN BE51 {ddr4_dq1} [get_ports c0_ddr4_dq[1]]
set_property PACKAGE_PIN BF50 {ddr4_dq2} [get_ports c0_ddr4_dq[2]]
set_property PACKAGE_PIN BF52 {ddr4_dq3} [get_ports c0_ddr4_dq[3]]
set_property PACKAGE_PIN BE50 {ddr4_dq4} [get_ports c0_ddr4_dq[4]]
set_property PACKAGE_PIN BD51 {ddr4_dq5} [get_ports c0_ddr4_dq[5]]
set_property PACKAGE_PIN BG50 {ddr4_dq6} [get_ports c0_ddr4_dq[6]]
set_property PACKAGE_PIN BF51 {ddr4_dq7} [get_ports c0_ddr4_dq[7]]
set_property PACKAGE_PIN BE54 {ddr4_dq8} [get_ports c0_ddr4_dq[8]]
set_property PACKAGE_PIN BG52 {ddr4_dq9} [get_ports c0_ddr4_dq[9]]
set_property PACKAGE_PIN BG54 {ddr4_dq10} [get_ports c0_ddr4_dq[10]]
set_property PACKAGE_PIN BK54 {ddr4_dq11} [get_ports c0_ddr4_dq[11]]
set_property PACKAGE_PIN BE53 {ddr4_dq12} [get_ports c0_ddr4_dq[12]]
set_property PACKAGE_PIN BG53 {ddr4_dq13} [get_ports c0_ddr4_dq[13]]
set_property PACKAGE_PIN BK53 {ddr4_dq14} [get_ports c0_ddr4_dq[14]]
set_property PACKAGE_PIN BH52 {ddr4_dq15} [get_ports c0_ddr4_dq[15]]
set_property PACKAGE_PIN BH51 {ddr4_dq16} [get_ports c0_ddr4_dq[16]]
set_property PACKAGE_PIN BJ51 {ddr4_dq17} [get_ports c0_ddr4_dq[17]]
set_property PACKAGE_PIN BH50 {ddr4_dq18} [get_ports c0_ddr4_dq[18]]
set_property PACKAGE_PIN BJ49 {ddr4_dq19} [get_ports c0_ddr4_dq[19]]
set_property PACKAGE_PIN BK50 {ddr4_dq20} [get_ports c0_ddr4_dq[20]]
set_property PACKAGE_PIN BK51 {ddr4_dq21} [get_ports c0_ddr4_dq[21]]
set_property PACKAGE_PIN BH49 {ddr4_dq22} [get_ports c0_ddr4_dq[22]]
set_property PACKAGE_PIN BJ48 {ddr4_dq23} [get_ports c0_ddr4_dq[23]]
set_property PACKAGE_PIN BL53 {ddr4_dq24} [get_ports c0_ddr4_dq[24]]
set_property PACKAGE_PIN BL52 {ddr4_dq25} [get_ports c0_ddr4_dq[25]]
set_property PACKAGE_PIN BN50 {ddr4_dq26} [get_ports c0_ddr4_dq[26]]
set_property PACKAGE_PIN BM48 {ddr4_dq27} [get_ports c0_ddr4_dq[27]]
set_property PACKAGE_PIN BL51 {ddr4_dq28} [get_ports c0_ddr4_dq[28]]
set_property PACKAGE_PIN BM52 {ddr4_dq29} [get_ports c0_ddr4_dq[29]]
set_property PACKAGE_PIN BN51 {ddr4_dq30} [get_ports c0_ddr4_dq[30]]
set_property PACKAGE_PIN BN49 {ddr4_dq31} [get_ports c0_ddr4_dq[31]]
set_property PACKAGE_PIN BF35 {ddr4_dq32} [get_ports c0_ddr4_dq[32]]
set_property PACKAGE_PIN BH35 {ddr4_dq33} [get_ports c0_ddr4_dq[33]]
set_property PACKAGE_PIN BJ33 {ddr4_dq34} [get_ports c0_ddr4_dq[34]]
set_property PACKAGE_PIN BG35 {ddr4_dq35} [get_ports c0_ddr4_dq[35]]
set_property PACKAGE_PIN BF36 {ddr4_dq36} [get_ports c0_ddr4_dq[36]]
set_property PACKAGE_PIN BH34 {ddr4_dq37} [get_ports c0_ddr4_dq[37]]
set_property PACKAGE_PIN BJ34 {ddr4_dq38} [get_ports c0_ddr4_dq[38]]
set_property PACKAGE_PIN BG34 {ddr4_dq39} [get_ports c0_ddr4_dq[39]]
set_property PACKAGE_PIN BN34 {ddr4_dq40} [get_ports c0_ddr4_dq[40]]
set_property PACKAGE_PIN BL33 {ddr4_dq41} [get_ports c0_ddr4_dq[41]]
set_property PACKAGE_PIN BL31 {ddr4_dq42} [get_ports c0_ddr4_dq[42]]
set_property PACKAGE_PIN BK31 {ddr4_dq43} [get_ports c0_ddr4_dq[43]]
set_property PACKAGE_PIN BP34 {ddr4_dq44} [get_ports c0_ddr4_dq[44]]
set_property PACKAGE_PIN BM33 {ddr4_dq45} [get_ports c0_ddr4_dq[45]]
set_property PACKAGE_PIN BL32 {ddr4_dq46} [get_ports c0_ddr4_dq[46]]
set_property PACKAGE_PIN BK33 {ddr4_dq47} [get_ports c0_ddr4_dq[47]]
set_property PACKAGE_PIN BP32 {ddr4_dq48} [get_ports c0_ddr4_dq[48]]
set_property PACKAGE_PIN BN31 {ddr4_dq49} [get_ports c0_ddr4_dq[49]]
set_property PACKAGE_PIN BP28 {ddr4_dq50} [get_ports c0_ddr4_dq[50]]
set_property PACKAGE_PIN BL30 {ddr4_dq51} [get_ports c0_ddr4_dq[51]]
set_property PACKAGE_PIN BP31 {ddr4_dq52} [get_ports c0_ddr4_dq[52]]
set_property PACKAGE_PIN BN32 {ddr4_dq53} [get_ports c0_ddr4_dq[53]]
set_property PACKAGE_PIN BP29 {ddr4_dq54} [get_ports c0_ddr4_dq[54]]
set_property PACKAGE_PIN BM30 {ddr4_dq55} [get_ports c0_ddr4_dq[55]]
set_property PACKAGE_PIN BH31 {ddr4_dq56} [get_ports c0_ddr4_dq[56]]
set_property PACKAGE_PIN BH29 {ddr4_dq57} [get_ports c0_ddr4_dq[57]]
set_property PACKAGE_PIN BF31 {ddr4_dq58} [get_ports c0_ddr4_dq[58]]
set_property PACKAGE_PIN BF32 {ddr4_dq59} [get_ports c0_ddr4_dq[59]]
set_property PACKAGE_PIN BH30 {ddr4_dq60} [get_ports c0_ddr4_dq[60]]
set_property PACKAGE_PIN BJ31 {ddr4_dq61} [get_ports c0_ddr4_dq[61]]
set_property PACKAGE_PIN BG32 {ddr4_dq62} [get_ports c0_ddr4_dq[62]]
set_property PACKAGE_PIN BF33 {ddr4_dq63} [get_ports c0_ddr4_dq[63]]
set_property PACKAGE_PIN BF48 {ddr4_dqs_c0} [get_ports c0_ddr4_dqs_c[0]]
set_property PACKAGE_PIN BJ54 {ddr4_dqs_c1} [get_ports c0_ddr4_dqs_c[1]]
set_property PACKAGE_PIN BJ47 {ddr4_dqs_c2} [get_ports c0_ddr4_dqs_c[2]]
set_property PACKAGE_PIN BM50 {ddr4_dqs_c3} [get_ports c0_ddr4_dqs_c[3]]
set_property PACKAGE_PIN BK35 {ddr4_dqs_c4} [get_ports c0_ddr4_dqs_c[4]]
set_property PACKAGE_PIN BM35 {ddr4_dqs_c5} [get_ports c0_ddr4_dqs_c[5]]
set_property PACKAGE_PIN BN30 {ddr4_dqs_c6} [get_ports c0_ddr4_dqs_c[6]]
set_property PACKAGE_PIN BK30 {ddr4_dqs_c7} [get_ports c0_ddr4_dqs_c[7]]
set_property PACKAGE_PIN BF47 {ddr4_dqs_t0} [get_ports c0_ddr4_dqs_t[0]]
set_property PACKAGE_PIN BH54 {ddr4_dqs_t1} [get_ports c0_ddr4_dqs_t[1]]
set_property PACKAGE_PIN BH47 {ddr4_dqs_t2} [get_ports c0_ddr4_dqs_t[2]]
set_property PACKAGE_PIN BM49 {ddr4_dqs_t3} [get_ports c0_ddr4_dqs_t[3]]
set_property PACKAGE_PIN BK34 {ddr4_dqs_t4} [get_ports c0_ddr4_dqs_t[4]]
set_property PACKAGE_PIN BL35 {ddr4_dqs_t5} [get_ports c0_ddr4_dqs_t[5]]
set_property PACKAGE_PIN BN29 {ddr4_dqs_t6} [get_ports c0_ddr4_dqs_t[6]]
set_property PACKAGE_PIN BJ29 {ddr4_dqs_t7} [get_ports c0_ddr4_dqs_t[7]]
set_property PACKAGE_PIN BF41 {ddr4_odt0} [get_ports c0_ddr4_odt[0]]
set_property PACKAGE_PIN BH45 {ddr4_odt1} [get_ports c0_ddr4_odt[1]]
set_property PACKAGE_PIN BL47 {ddr4_reset_n} [get_ports c0_ddr4_reset_n]
